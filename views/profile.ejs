<html>

<head>
    <%- include('layouts/navbar'); -%>
</head>

<body>

    <h1 class="font">Welcome, <%= name %>!</h1>

    <div class="font">
        <h2 class="personal-information-title">Persoal Information</h2>
        <label for="firstName">First name: </label><br>
        <input type="text" id="firstName" name="firstName" disabled><br>
        <label for="lastName">Last name: </label><br>
        <input type="text" id="lastName" name="lastName" disabled><br>
        <label for="email">Email: </label><br>
        <input type="text" id="email" name="email" disabled><br>
        <label for="phoneNumber">Phone Number: </label><br>
        <input type="text" id="phoneNumber" name="phoneNumber" disabled><br>
        <label for="address">Address: </label><br>
        <input type="text" id="address" name="address" disabled><br>
        <label for="postalCode">Postal Code: </label><br>
        <input type="text" id="postalCode" name="postalCode" disabled><br>
        <label for="username">Username: </label><br>
        <input type="text" id="username" name="username" disabled><br>
        <label for="password">Password: </label><br>
        <div class="password-block">
            <input type="password" id="password" name="password" disabled><br>
            <button class="password-vis-icon" onclick = "togglePass()"><img src="https://cdn-icons-png.flaticon.com/512/57/57122.png"></button>
        </div>
        <br>
        <div>
            <button id = "editButton" class="profile-page-buttons" onclick="edit()">Edit</button>
            <button class="profile-page-buttons" onclick="save()">Save</button>
        </div>
    </div>
 
</body>

<script>
    function togglePass() {
        const pass = document.getElementById("password");
        if (pass.type === "password") {
            pass.type = "text";
        }
        else {
            pass.type = "password";
        }
    }
  function edit() {
    const editButton = document.getElementById("editButton");

    if (document.getElementById("firstName").disabled) {
        editButton.textContent = "Cancel";
        enableInputs();
    } else {
        editButton.textContent = "Edit";
        disableInputs();
    }
}

function enableInputs() {
    document.getElementById("firstName").removeAttribute("disabled");
    document.getElementById("lastName").removeAttribute("disabled");
    document.getElementById("email").removeAttribute("disabled");
    document.getElementById("phoneNumber").removeAttribute("disabled");
    document.getElementById("address").removeAttribute("disabled");
    document.getElementById("postalCode").removeAttribute("disabled");
    document.getElementById("username").removeAttribute("disabled");
    document.getElementById("password").removeAttribute("disabled");
}

function disableInputs() {
    document.getElementById("firstName").setAttribute("disabled", true);
    document.getElementById("lastName").setAttribute("disabled", true);
    document.getElementById("email").setAttribute("disabled", true);
    document.getElementById("phoneNumber").setAttribute("disabled", true);
    document.getElementById("address").setAttribute("disabled", true);
    document.getElementById("postalCode").setAttribute("disabled", true);
    document.getElementById("username").setAttribute("disabled", true);
    document.getElementById("password").setAttribute("disabled", true);
}

    function save() {

    }

    document.getElementById("firstName").value = "<%= name %>";
    document.getElementById("lastName").value = "<%= userData.lastName %>";
    document.getElementById("email").value = "<%= userData.email %>";
    document.getElementById("phoneNumber").value = "<%= userData.phoneNum %>";
    document.getElementById("address").value = "<%= userData.adr %>";
    document.getElementById("postalCode").value = "<%= userData.pCode %>";
    document.getElementById("username").value = "<%= userData.userName %>";
    document.getElementById("password").value = "<%= userData.passWord %>";
</script>

<style>
    .profile-page-buttons {
        display: inline-block;
        padding: 10px 20px;
        font-size: 16px;
        text-align: center;
        text-decoration: none;
        border-radius: 5px;
        cursor: pointer;
        background-color: #3498db;
        color: #ffffff;
        border: none;
    }

    .profile-page-buttons:hover {
        animation: glow 1s ease-in-out infinite;
    }

    .personal-information-title {
        font-weight: bold;
    }

    @keyframes glow {
        0%,
        100% {
            box-shadow: 0 0 10px #3498db;
        }

        50% {
            box-shadow: 0 0 20px #3498db;
        }
    }
</style>

<footer>
    <br>
    <%- include('layouts/footer'); -%>
</footer>

</html>